{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"angularx-social-login\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/common\";\n\nconst _c0 = function () {\n  return [\"/user\"];\n};\n\nfunction CocktailComponent_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelementStart(1, \"button\", 9);\n    i0.ɵɵtext(2, \"User Profile\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c0));\n  }\n}\n\nfunction CocktailComponent_li_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const i_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i_r2);\n  }\n}\n\nexport let CocktailComponent = /*#__PURE__*/(() => {\n  class CocktailComponent {\n    constructor(userSvc, activatedRoute, socialAuthService, router) {\n      this.userSvc = userSvc;\n      this.activatedRoute = activatedRoute;\n      this.socialAuthService = socialAuthService;\n      this.router = router;\n    }\n\n    ngOnInit() {\n      this.socialAuthService.authState.subscribe(user => {\n        this.user = user;\n        console.log(\"user at cocktail page\", this.user.email);\n        this.loggedIn = user != null;\n      }); //implement ID display\n\n      this.idDrink = this.activatedRoute.snapshot.params['idDrink'];\n      this.userSvc.getCocktail(this.idDrink).then(c => this.cocktail = c).catch(error => {\n        alert('cannot retrieve cocktail with this ID');\n      });\n    }\n\n    goToLogin() {\n      this.router.navigate(['/login'], {\n        queryParams: {\n          idDrink: this.idDrink\n        }\n      });\n    }\n\n    addFavourites() {\n      if (this.loggedIn === false) {\n        alert('Please Log In to Add Favourite');\n      } //snapshot or get idDrink, save in separate component/cocktail-list\n\n\n      this.idDrink = this.activatedRoute.snapshot.params['idDrink'];\n      console.log(\"name of added drink\", this.cocktail.strDrink);\n      let favCocktail = {\n        idDrink: '',\n        email: '',\n        strDrink: ''\n      };\n      favCocktail.idDrink = this.idDrink;\n      favCocktail.email = this.user.email;\n      favCocktail.strDrink = this.cocktail.strDrink; //console.log(\"favCocktail sent: \", favCocktail)\n\n      this.userSvc.saveCocktail(favCocktail).then(result => {\n        //console.log(\"idDrink Saved: \", result)\n        alert('Cocktail Saved');\n      }).catch(error => {\n        alert('Please Log In to Add Favourites');\n        console.error('Error', error);\n      });\n    }\n\n  }\n\n  CocktailComponent.ɵfac = function CocktailComponent_Factory(t) {\n    return new (t || CocktailComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.SocialAuthService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  CocktailComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CocktailComponent,\n    selectors: [[\"app-cocktail\"]],\n    decls: 54,\n    vars: 10,\n    consts: [[1, \"title_center\"], [\"mat-flat-button\", \"\", \"color\", \"stroked\", \"type\", \"button\", 3, \"disabled\", \"click\"], [4, \"ngIf\"], [1, \"left\"], [1, \"title-name\"], [1, \"title\"], [\"alt\", \"cocktail image\", 3, \"src\"], [4, \"ngFor\", \"ngForOf\"], [\"mat-flat-button\", \"\", \"color\", \"primary\", \"type\", \"button\", \"onclick\", \"history.go(-1)\"], [\"mat-flat-button\", \"\", \"color\", \"stroked\", \"type\", \"button\", 3, \"routerLink\"]],\n    template: function CocktailComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"span\", 0);\n        i0.ɵɵelementStart(1, \"h1\");\n        i0.ɵɵtext(2, \"Cocktail Information:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(3, \"hr\");\n        i0.ɵɵelementStart(4, \"span\");\n        i0.ɵɵelementStart(5, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function CocktailComponent_Template_button_click_5_listener() {\n          return ctx.goToLogin();\n        });\n        i0.ɵɵtext(6, \"Login\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(7, CocktailComponent_span_7_Template, 3, 2, \"span\", 2);\n        i0.ɵɵelement(8, \"hr\");\n        i0.ɵɵelementStart(9, \"table\", 3);\n        i0.ɵɵelementStart(10, \"thead\");\n        i0.ɵɵelementStart(11, \"tr\");\n        i0.ɵɵelementStart(12, \"div\", 4);\n        i0.ɵɵtext(13, \"Cocktail:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"span\");\n        i0.ɵɵtext(15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"tr\");\n        i0.ɵɵelementStart(17, \"div\", 5);\n        i0.ɵɵtext(18, \"Drink Id:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"span\");\n        i0.ɵɵtext(20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"tbody\");\n        i0.ɵɵelementStart(22, \"tr\");\n        i0.ɵɵelementStart(23, \"td\");\n        i0.ɵɵelement(24, \"img\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"tr\");\n        i0.ɵɵelementStart(26, \"td\");\n        i0.ɵɵelementStart(27, \"div\", 5);\n        i0.ɵɵtext(28, \"Alcoholic/Non-Alcoholic:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"span\");\n        i0.ɵɵtext(30);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"tr\");\n        i0.ɵɵelementStart(32, \"td\");\n        i0.ɵɵelementStart(33, \"div\", 5);\n        i0.ɵɵtext(34, \"Type of Glass:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"span\");\n        i0.ɵɵtext(36);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"tr\");\n        i0.ɵɵelementStart(38, \"td\");\n        i0.ɵɵelementStart(39, \"div\", 5);\n        i0.ɵɵtext(40, \" Ingredients: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"ol\");\n        i0.ɵɵtemplate(42, CocktailComponent_li_42_Template, 2, 1, \"li\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(43, \"tr\");\n        i0.ɵɵelementStart(44, \"td\");\n        i0.ɵɵelementStart(45, \"div\", 5);\n        i0.ɵɵtext(46, \"Instructions:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(47, \"span\");\n        i0.ɵɵtext(48);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(49, \"hr\");\n        i0.ɵɵelementStart(50, \"button\", 8);\n        i0.ɵɵtext(51, \"Back to Previous\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(52, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function CocktailComponent_Template_button_click_52_listener() {\n          return ctx.addFavourites();\n        });\n        i0.ɵɵtext(53, \"Add to Favourites\");\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"disabled\", ctx.loggedIn === true);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.loggedIn == true);\n        i0.ɵɵadvance(8);\n        i0.ɵɵtextInterpolate(ctx.cocktail == null ? null : ctx.cocktail.strDrink);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.cocktail == null ? null : ctx.cocktail.idDrink);\n        i0.ɵɵadvance(4);\n        i0.ɵɵpropertyInterpolate(\"src\", ctx.cocktail == null ? null : ctx.cocktail.strDrinkThumb, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.cocktail == null ? null : ctx.cocktail.strAlcoholic);\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.cocktail == null ? null : ctx.cocktail.strGlass);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.cocktail == null ? null : ctx.cocktail.ingredientAndMeasure);\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.cocktail == null ? null : ctx.cocktail.strInstructions);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"disabled\", ctx.loggedIn == false);\n      }\n    },\n    directives: [i4.MatButton, i5.NgIf, i2.RouterLink, i5.NgForOf],\n    styles: [\"img[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:150px}.title[_ngcontent-%COMP%]{font-weight:700}.title-name[_ngcontent-%COMP%]{font-weight:700;font-size:1.5em}.mat-flat-button[_ngcontent-%COMP%]{border:.1em solid lightgray}.mat-flat-button[_ngcontent-%COMP%]:hover{background:#e7e7e7}.left[_ngcontent-%COMP%]{margin-left:10px}\"]\n  });\n  return CocktailComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}